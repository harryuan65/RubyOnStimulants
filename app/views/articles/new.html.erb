<%= stylesheet_link_tag "article-page"%>

<%= form_with model: @article do |f|  %>
  <div class="wrap-article">
    <div class="wrap-title">
      <%= f.hidden_field :user_id, {value: current_user.id, class: "article-page-title notosans text-5b"} %>
      <div class="wrap-title-and-delete">
        <div class="wrap-label-input title">
          <label for="title" class="notosans-light text-7e">Title</label>
          <%= f.text_field :title, {value: @article.title, class: "article-page-title notosans text-5b"} %>
        </div>
        <%= link_to "&#x1f5d1;".html_safe, :back, method: :get, class: "article-destroy", data: {confirm: t('controller.articles.confirm_delete')}%>
      </div>
      <div class="wrap-label-input subtitle">
        <label for="subtitle" class="notosans-light text-7e">Subtitle</label>
        <%= f.text_field :subtitle, {value: "", placeholder: "In case you need a subtitle!", class: "article-page-subtitle notosans-light text-5b"} %>
        <!-- <input type="text" name="subtitle" class="article-page-subtitle notosans-light text-7e" value=""></input>-->
      </div>
      <div class="wrap-label-input state">
        <label for="state" class="notosans-light text-7e">State</label>
        <div class="wrap-state">
        <div class="state-pair">
          <span class="notosans-light text-7e">Draft</span>
          <%= f.radio_button :state, "draft", class: "notosans text-5b" %>
        </div>
        <div class="state-pair">
          <span class="notosans-light text-7e">Published</span>
          <%= f.radio_button :state, "published", class: "notosans text-5b" %>
        </div>
        </div>
      </div>
    </div>
    <div class="wrap-label-input content">
      <label for="content" class="notosans-light text-7e">Content</label>
      <div class="content-base">
        <div id="preview-page" class="content-page preview">
          <div id="preview-toggle" class="page-toggle notosans-light text-5b" onclick="togglePreviewMarkdown(true, document.getElementById('article_content').value)">PREVIEW</div>
          <div id="preview-markdown" class="markdown text-5b"></div>
        </div>
        <div id="edit-page" class="content-page edit">
          <!-- edit page is active by default -->
          <div id="edit-toggle" class="page-toggle notosans-light text-5b active" onclick="togglePreviewMarkdown(false)">EDIT</div>
          <%= f.text_area :content, {value: "", placeholder: "All the juicy parts here", class: "article-page-content markdown text-5b"} %>
        </div>
      </div>
    </div>

    <div class="wrap-edit-btns">
      <div class="wrap-edit-cancel-save">
        <a href="javascript:void(0)" id="cancel" class="btn cancel notosans-light text-e7" onclick="openConfirm(event)">&#x2715; Cancel</a>
        <%= f.submit "&#x1F4BE; Create".html_safe, class: "btn save notosans-light text-e7" %>
      </div>
    </div>
  </div>
<% end %>